!function(t,b){"use strict";var y="ht",D=t[y],Q="px",n="left",N="top",v="bottom",h="right",w="innerHTML",u="className",c="",F="width",s="height",G="string",x="position",Z="absolute",e="0",X="opacity",m="background",K=D.Default,j=K.getInternal(),M=D.Color,Y=K.animate,_=K.isTouchable,l=null,B=(Math.sqrt,t.parseInt),R=t.setTimeout,W=(Math.round,M.titleIconBackground),o=function(x){return typeof x===G||x instanceof String},E=function(){return document},H=function(D){return E().createElement(D)},L=function(){var V=H("div");return V.tabIndex=-1,V.style.outline="none",V},z=function(){return H("canvas")},C=function(x,g){J(x,"-webkit-transform",g),J(x,"-ms-transform",g),J(x,"transform",g)},J=function(d,F,c){d.style.setProperty(F,c,l)},g=function(m,j,E){K.def(D.widget[m],j,E)},I=function(m,K){m.appendChild(K)},V=function(){return E().documentElement},U=function(){return V().clientWidth},T=function(){return V().clientHeight},i=j.addEventListener,P=j.removeEventListener,q=function(a){var y=a.touches[0];return y?y:a.changedTouches[0]};j.addMethod(K,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:W},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:W}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:W},{type:"rect",rect:[10,10,80,20],background:W}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:W},{type:"rect",rect:[10,34,56,14],background:W},{type:"rect",rect:[34,10,56,14],background:W},{type:"rect",rect:[82,10,8,56],background:W},{type:"rect",rect:[66,62,24,8],background:W}]},dialogTitleLabelColor:K.labelSelectColor,dialogTitleLabelFont:(_?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:K.labelFont,dialogTitleBackground:M.titleBackground,dialogHeaderBackground:M.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var A=function(U){var Z=this;Z.$1d=U,Z.addListeners()};K.def(A,b,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(T){var j=this,V=j.$1d,B=V.$6d,r=V._config,F=V.$7d,L=T,P=T.target;if(F.contains(P)||K.preventDefault(T),K.isLeftButton(T)){_&&(L=q(T));var c=j.$8d={x:L.pageX,y:L.pageY};j.$9d={x:c.x,y:c.y},!r.maximized&&r.draggable&&B.contains(P)&&(j.$4d=!0,K.startDragging(j,T)),j.handle_mousemove(T)&&(j.$2d=!0,K.startDragging(j,T)),F.contains(T.target)||V.$41d.focus()}},handle_mousedown:function(c){this.handle_touchstart(c)},handle_touchend:function(c){if(K.isLeftButton(c)&&!this.$5d&&!this.$3d){var L=this,v=L.$1d,G=c.target,Y=v._config,w=v.$18d,n=v.$16d;for(Y.closable&&w.contains(G)&&v.hide(),Y.maximizable&&n.contains(G)&&(Y.maximized?v.restore():v.maximize());G&&(G.className||"").indexOf("dialog-button")<0;)G=G.parentNode;G&&G.buttonItem&&v.action&&v.action(G.buttonItem,c),delete L.$8d,delete L.$9d}},handle_mouseup:function(h){this.handle_touchend(h)},handleWindowTouchEnd:function(d){var $=this,N=$.$1d,Y=N.$10d;$.$2d&&$.$3d?Y.fire({kind:"endResize",target:N,originEvent:d}):$.$4d&&$.$5d&&Y.fire({kind:"endMove",target:N,originEvent:d}),this.clear()},handleWindowMouseUp:function(H){this.handleWindowTouchEnd(H)},handle_mousemove:function(j){var f=this.$1d._config;if(f.maximized)return!1;if("w"!==f.resizeMode&&"h"!==f.resizeMode&&"wh"!==f.resizeMode)return!1;var v=this,t=v.getView(),M=t.querySelector(".resize-area"),P=M.getBoundingClientRect(),p={x:P.left,y:P.top,width:P.width,height:P.height};j=_?q(j):j;var S=j.clientX,G=j.clientY,y={x:S,y:G};return K.containsPoint(p,y)?(J(t,"cursor","nwse-resize"),!0):(J(t,"cursor",c),void 0)},handleWindowTouchMove:function(L){L.preventDefault();var v=L;_&&(v=q(L));var o=this,u=o.$8d,h=o.$9d;if(!(h.x==u.x&&h.y==u.y&&K.getDistance(h,{x:v.pageX,y:v.pageY})<=1)){var i=o.$1d,z=i._config,c=i.$21d,j=z.resizeMode||"wh",g=v.pageX-u.x,r=v.pageY-u.y;if(o.$2d){var S=c.offsetWidth,G=c.offsetHeight,W=S+g,E=G+r;if(W=Math.max(W,50),E=Math.max(E,50),"center"===z.position||z.position==l){var a={},k=c.getBoundingClientRect();a.x=k.left,a.y=k.top,z.position=a}"w"===j?(i.setSize(W,G),u.x+=W-S):"h"===j?(i.setSize(S,E),u.y+=E-G):"wh"===j&&(i.setSize(W,E),u.x+=W-S,u.y+=E-G),o.$3d?i.$10d.fire({kind:"betweenResize",target:i,originEvent:L}):(o.$3d=!0,i.$10d.fire({kind:"beginResize",target:i,originEvent:L}))}else if(o.$4d){var d=c.getBoundingClientRect(),D=d.width,V=d.height,Y=U(),w=T(),A=B(c.style.left)||0,b=B(c.style.top)||0,x=A+g,X=b+r,C=i.adjustPosition({x:x,y:X},{width:D,height:V},{width:Y,height:w});C&&(x=C.x,X=C.y);var F=x-A,P=X-b;J(c,n,x+Q),J(c,N,X+Q),u.x+=F,u.y+=P,z.position={x:x,y:X},o.$5d?i.$10d.fire({kind:"betweenMove",target:i,originEvent:L}):(o.$5d=!0,i.$10d.fire({kind:"beginMove",target:i,originEvent:L}))}}},handleWindowMouseMove:function(R){this.handleWindowTouchMove(R)},handleWindowResize:function(){var w=this,y=w,l=y._config,I=y.$21d,z=U(),d=T(),t=l.width,O=l.height,a=l.position||"center";l.maximized?(J(I,F,z+Q),J(I,s,d+Q),J(I,N,e),J(I,n,e)):(J(I,F,t+Q),J(I,s,O+Q),"center"===a?(J(I,n,(z-t)/2+Q),J(I,N,(d-O)/2+Q)):(J(I,n,a.x+Q),J(I,N,a.y+Q))),y.iv()},handle_mousewheel:function(R){R.stopPropagation()},handle_DOMMouseScroll:function(B){B.stopPropagation()}}),D.widget.Dialog=function(b){var I=this,R=I._view=j.createView(null,I);R[u]="ht-widget-dialog",J(R,x,Z),K.baseZIndex!=l&&J(R,"z-index",K.baseZIndex+"");var t=I.$11d=new A(I);I.bindingHandleWindowResize=t.handleWindowResize.bind(I),I.$10d=new D.Notifier,b&&I.setConfig(b)},g("Dialog",b,{ms_v:1,ms_fire:1,setTitle:function(G){this._config.title=G,this.getView().querySelector(".dialog-container-title span").innerHTML=G},clearNodes:function(y){if(y)for(;y.firstChild;)y.removeChild(y.firstChild)},$31d:function(){var W=this,P=W.$6d=L(),d=W._config,k=W.$12d=W.$13d();P[u]="dialog-container-title",J(P,"cursor","default"),J(P,"white-space","nowrap"),J(P,"overflow","hidden"),J(P,"font",K.dialogTitleLabelFont),J(P,m,d.titleBackground||K.dialogTitleBackground),J(P,"color",d.titleColor||K.dialogTitleLabelColor);var h=H("span"),Y=W.$25d();if(d.titleAlign&&J(P,"text-align",d.titleAlign),d.titleIcon){var v=W.$14d=W.$15d();I(P,v)}if(d.title&&d.title.trim&&(d.title=d.title.trim()),h[w]=d.title||"&nbsp;",I(P,h),d.maximizable){var s=W.$16d=W.$17d();I(k,s)}if(d.closable){var X=W.$18d=W.$19d();I(k,X)}return I(P,k),J(P,"display","block"),J(P,"line-height",Y+Q),P},$13d:function(){var A=L();return J(A,x,Z),J(A,n,e),J(A,h,5+Q),J(A,N,e),J(A,v,e),J(A,"text-align",h),J(A,"white-space","nowrap"),A[u]="dialog-title-controls",A},$20d:function(){var U=this.$21d=L(),P=this._config,R=P.borderWidth;return J(U,x,"fixed"),J(U,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),J(U,"padding",e+" "+R+Q+" "+R+Q+" "+R+Q),J(U,"box-sizing","border-box"),J(U,"-moz-box-sizing","border-box"),U[u]="dialog-container",J(U,m,P.titleBackground||K.dialogTitleBackground),U},$22d:function(){var G,U=this,b=U._config,m=U.$7d=L(),i=b.content,M=0,W=b.contentPadding||0;b.buttons!=l&&b.buttons.length>0&&(M=32),o(i)?m[w]=i:i.getView?(G=i.getView(),I(m,G)):(G=i,I(m,G)),J(m,x,Z),J(m,"font",K.dialogContentLabelFont),D.Default.appendToScreen(m);var S=m.offsetWidth+1,e=m.offsetHeight,V=U.$25d();return b.width==l&&(b.width=S+10+2*W),b.height==l&&(b.height=e+V+M+5+2*W),D.Default.removeHTML(m),G&&(J(G,"box-sizing","border-box"),J(G,"-moz-box-sizing","border-box"),J(G,F,"100%"),J(G,s,"100%")),m[u]="dialog-content",J(m,N,V+W+Q),J(m,v,M+W+Q),J(m,n,W+Q),J(m,h,W+Q),J(m,"overflow","hidden"),m},getOverlayDiv:function(){return this.$41d},$23d:function(){var w=this.$41d=L();return w[u]="dialog-overlay",J(w,F,"100%"),J(w,s,"100%"),J(w,x,"fixed"),J(w,N,e),J(w,n,e),J(w,m,"rgba(235, 235, 235, 0.7)"),w},_config:l,setSize:function(T,F){var D=this,j=D._config;j&&(j.width=T,j.height=F,D.isShowing()&&(D.bindingHandleWindowResize(),D.iv()))},getConfig:function(){return this._config},$24d:function(){var D=this._config,K=D.titleIconSize||16;return _&&(K*=1.2),K},$25d:function(){var O=this._config,q=O.titleHeight||K.widgetTitleHeight;return q},$26d:function(z){J(z,"cursor","pointer"),J(z,"display","inline-block"),J(z,"margin-right",(_?8:4)+Q),J(z,"vertical-align",N)},$27d:function(){var r=this.$30d=L(),N=10;return _&&(N=20),J(r,F,N+Q),J(r,s,N+Q),J(r,x,Z),J(r,v,e),J(r,h,e),r[u]="resize-area",r},$15d:function(){var H=this,Q=z();Q[u]="dialog-title-control dialog-title-control-icon";var J=H.$25d(),U=H.$24d();return H.$26d(Q),j.setCanvas(Q,U,J),Q},$17d:function(){var D=z();D[u]="dialog-title-control dialog-title-control-maximize";var d=this.$25d(),g=this.$24d();return this.$26d(D),j.setCanvas(D,g,d),D},$19d:function(){var Y=z();Y[u]="dialog-title-control dialog-title-control-close";var C=this.$25d(),n=this.$24d();return this.$26d(Y),j.setCanvas(Y,n,C),Y},$28d:function(){var N=L();return J(N,m,K.dialogContentBackground||"white"),J(N,F,"100%"),J(N,s,"100%"),J(N,x,"relative"),N},$29d:function(){var i=this,H=L();J(H,"line-height",32+Q),J(H,x,Z),J(H,v,e),J(H,n,e),J(H,"white-space","nowrap"),J(H,"overflow","hidden"),J(H,h,e),J(H,m,K.dialogHeaderBackground),H[u]="dialog-container-buttons";var k=this._config,U=k.buttonsAlign||h,R=0;return J(H,"text-align",U),i.$42d=[],k.buttons.forEach(function(t){var G=new D.widget.Button,$=G.getView();$[u]="dialog-button "+t.className,$.buttonItem=t,i.$42d.push(G),G.setBorderColor(l),G.setBackground(K.dialogButtonBackground),G.setSelectBackground(K.dialogButtonSelectBackground),G.setLabelColor(K.dialogButtonLabelColor),J($,x,"relative"),J($,"display","inline-block"),J($,"text-align",n),J($,"height",24+Q);var s=_?10:5;U===n||U===h?J($,"margin-"+U,s+Q):0===R||J($,"margin-"+n,s+Q),J($,"vertical-align","middle");var m=K.getTextSize(G.getLabelFont(),t.label).width+10;G.onClicked=function(E){t.action&&t.action.call(i,t,E)},G.setLabel(t.label),G.setDisabled(t.disabled),J($,F,m+Q),I(H,G.getView()),R++}),H},setConfig:function(e){if(e){var R=this,E=R._view;R._config=e,R.action=e.action,R.clearNodes(E),e.borderWidth==l&&(e.borderWidth=5);var S=R.$23d(),b=R.$28d(),F=R.$31d(),m=R.$22d(),y=R.$20d(),c=R.$30d=R.$27d();if(I(E,S),I(E,y),I(y,b),I(b,F),I(b,m),e.buttons!=l&&e.buttons.length>0){var Y=R.$29d();I(b,Y)}I(y,c),e.maximized?(e.maximized=!1,R.bindingHandleWindowResize(),R.maximize(!0)):R.bindingHandleWindowResize(),R.isShowing()&&R.iv()}},hide:function(){var h=this,G=h.$21d,r=h.$41d,i=h._view;i[u]="ht-widget-dialog",Y(G).duration(200).scale(.7).set(X,e).end(function(){h.onHidden&&h.onHidden(),D.Default.removeHTML(i),h.$10d.fire({kind:"hide",target:h})}),Y(r).duration(200).set(X,e).end(),P(t,"resize",h.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(S){this.$41d.style.display=S?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var Q=this,s=Q._config,K=Q.$21d;C(K,c),Q.iv(),s.maximized?Q.$10d.fire({kind:"maximize",target:Q}):Q.$10d.fire({kind:"restore",target:Q})},maximize:function(G){var J=this,f=J.$21d,l=J._config;if(!l.maximized){l.maximized=!0,J.$33d(),J.$16d[u]="dialog-title-control dialog-title-control-minimize";var $=U(),g=T(),o=l.width,W=l.height,Z=B(f.style.left)||0,c=B(f.style.top)||0;J.$36d=o,J.$37d=W,J.$34d=Z,J.$35d=c;var r=G?0:200;Y(f).duration(r).set(n,e).set(N,e).set(F,$+Q).set(s,g+Q).end(function(){J.$32d()})}},restore:function(){var h=this,D=h.$34d,S=h.$35d,f=h.$36d,t=h.$37d,a=h._config;if(a.maximized&&(a.maximized=!1,h.$33d(),h.$16d[u]="dialog-title-control dialog-title-control-maximize",h.isShowing()&&D!=l&&S!=l&&f!=l&&t!=l)){var z=h.$21d;Y(z).duration(200).set(n,D+Q).set(N,S+Q).set(F,f+Q).set(s,t+Q).end(function(){h.$32d()})}delete h.$34d,delete h.$35d,delete h.$36d,delete h.$37d},show:function(){var h=this,M=h._view,A=h._config,P=h.$21d,N=h.$41d;A&&A.zIndex!=l&&J(M,"z-index",A.zIndex+c),D.Default.appendToScreen(M),C(P,"scale(0.7)"),J(P,X,e),h.iv(),h.validate(),h._view[u]+=" dialog-show",R(function(){Y(P).duration(200).scale(1).set(X,"1").end(function(){J(P,F,P.clientWidth+Q),J(P,s,P.clientHeight+Q),h.onShown&&h.onShown(),h.$10d.fire({kind:"show",target:h});var Y=A&&A.content;Y&&Y.iv&&Y.iv()}),Y(N).duration(200).set(X,"1").end(),i(t,"resize",h.bindingHandleWindowResize)},30)},setPosition:function(t){var L=this.$21d;L.style.left=t.x+"px",L.style.top=t.y+"px"},addEventListener:function(M,z,U){this.$10d.add(M,z,U)},removeEventListener:function(R,J){this.$10d.remove(R,J)},$38d:function(J,N,o,E){var s=j.initContext(J);j.translateAndScale(s,0,0,1),s.clearRect(0,0,o,o);var z=(o-E)/2;K.drawStretchImage(s,K.getImage(N),"fill",0,z,E,E),s.restore()},$33d:function(){var V=this,y=V._config,v=V.$16d,i=y.maximized?K.dialogRestoreIcon:K.dialogMaximizeIcon;if(v&&i){var s=V.$25d(),B=V.$24d();V.$38d(v,K.getImage(i),s,B)}},$39d:function(){var X=this,z=X._config,x=X.$14d,H=z.titleIcon;if(x&&H){var h=X.$25d(),I=X.$24d();X.$38d(x,K.getImage(H),h,I)}},$40d:function(){var O=this,E=O.$18d,i=K.dialogCloseIcon;if(E&&i){var r=O.$25d(),j=O.$24d();O.$38d(E,K.getImage(i),r,j)}},invalidate:function(S){var N=this,E=N.$42d;N._68I||(N._68I=1,K.callLater(N.validate,N,l,S),N.onInvalidated&&N.onInvalidated(),N.fireViewEvent("invalidate"));var U=N._config.content;U.invalidate&&U.invalidate(),E&&E.forEach(function(S){S.iv()})},validateImpl:function(){var $=this;$.$40d(),$.$33d(),$.$39d();var v=$._config.content;v.initView&&(v.setX(0),v.setY(0),v.setWidth($.$7d.clientWidth),v.setHeight($.$7d.clientHeight))},adjustPosition:function(k,f,M){var h=f.width,R=f.height,i=M.width,_=M.height,n=k.x,G=k.y,z=this._config,d=z.minDragSize||20;return"inside"===z.dragMode?(n+h>i&&(n=i-h),G+R>_&&(G=_-R),0>n&&(n=0),0>G&&(G=0)):(null==z.dragMode||"none"===z.dragMode)&&(-h+d>n&&(n=-h+d),n>i-d&&(n=i-d),G>_-d&&(G=_-d),0>G&&(G=0)),{x:n,y:G}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);