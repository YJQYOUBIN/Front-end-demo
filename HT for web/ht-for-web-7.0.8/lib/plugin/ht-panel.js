!function(J,n,H){"use strict";var r="ht",R=J[r],u=R.Default,D=u.isTouchable,X=R.Color,q="px",t="0",d="innerHTML",C="className",T="position",Q="absolute",e="width",E="height",Z="left",x="top",_="right",O="bottom",S="max-width",b="max-height",v=null,G="none",N="",w=J.parseInt,K=J.setTimeout,M=u.getInternal(),l=u.animate,j=X.titleIconBackground,A=function(){return document},p=function(O){return A().createElement(O)},L=function(){return p("div")},o=function(){return p("canvas")},m=function(j,V,s){j.style.setProperty(V,s,v)},z=function(C,m){return C.style.getPropertyValue(m)},U=function(K,I){K.appendChild(I)},s=function(b,B){b.removeChild(B)},W=M.addEventListener,c=(M.removeEventListener,function(i){var S=i.scrollWidth,L=i.scrollHeight;return i===A().body&&(S=Math.max(S,A().documentElement.scrollWidth),L=Math.max(L,A().documentElement.scrollHeight)),{width:S,height:L}}),k=function(I){var i=I.touches[0];return i?i:I.changedTouches[0]};M.addMethod(u,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:j,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:j}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:j},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:j}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:j},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:j}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:j},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:j},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:j},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:j}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:j},{type:"rect",rect:[10,118,268,56],background:j},{type:"rect",rect:[10,213,268,56],background:j}]},panelTitleLabelColor:u.labelSelectColor,panelTitleLabelFont:u.labelFont,panelContentLabelFont:u.labelFont,panelTitleBackground:X.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:H},!0);var Y=R.widget.Panel=function(a){var u=this,r=u._view=M.createView(null,u);u.$1i=0,u.$18i=new R.Notifier,u.$2i="leftTop",m(r,x,t),m(r,Z,t),m(r,T,Q),m(r,"overflow","hidden"),u._interactor=new g(u),u.setConfig(a),u.addEventListener(function(n){var $=u.getPanelConfig(n.id),z=$.content;("beginRestore"===n.kind||"betweenResize"===n.kind||"endToggle"===n.kind)&&(z&&z.invalidate&&z.invalidate(),$.items&&$.items.forEach(function(b){b&&b.content&&b.content.invalidate&&b.content.invalidate()}))})};u.def(Y,n,{ms_v:1,_dragContainment:"parent",setConfig:function(R){function k(d){d.expanded=!d.expanded,Z.togglePanel(d.id,!0,!0)}if(R){for(var Z=this,w=Z._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);Z._config=R,Z.$35i=[],R.expanded==v&&(R.expanded=R.expand!=v?R.expand:!0);var a=Z._view,J=Z.$24i(R,a,!0),d=J[2],x=R.width;Z.$35i.push(J[1]),R.items&&R.items.forEach(function(x){x.expanded==v&&(x.expanded=x.expand!=v?x.expand:!0);var h=Z.$24i(x,d.children[0]);Z.$35i.push(h[1])});var B=L();m(B,e,10+q),m(B,E,10+q),m(B,T,Q),m(B,O,t),m(B,_,t),B[C]="resize-area",U(a,B),Z.$10i(),R.flowLayout&&m(a,T,"relative"),m(a,"opacity",t),U(A().body,a),x==v&&(x=a.offsetWidth),m(a,e,x+q),m(a,S,x+q);var c=R.content;c&&c.isSelfViewEvent&&(c.setX(0),c.setY(0),c.setWidth(x-2*(R.borderWidth||0)),c.setHeight(R.contentHeight)),R.items&&R.items.forEach(function(j){k(j)}),R.buttons&&R.buttons.indexOf("toggle")<0||k(R),R.minimized==v&&R.minimize!=v&&(R.minimized=R.minimize),R.minimized&&R.minimizable!==!1&&Z.minimize(!0),s(A().body,a),m(a,"opacity",N),w&&U(w,a),Z.iv()}},getPanelConfig:function(y){var B=this,x=B._config,W=x.items;if(x.id===y)return x;if(W)for(var $=0;$<W.length;$++){var n=W[$];if(n.id===y)return n}},getPanelView:function(k){for(var m=this,j=m.$35i,I=0;I<j.length;I++){var H=j[I],e=H.parentNode;if(e.$15i===k)return e}},setDragContainment:function(m){this._dragContainment=m},getDragContainment:function(){return this._dragContainment},$20i:function(){var c=this._config,S=c.restoreIconSize||24;return S},$5i:function(i){var O=i.titleIconSize||16;return D&&(O*=1.2),O},$4i:function(H){var P=H.titleHeight||u.widgetTitleHeight;return P},setTitle:function(Z,B){if(B==v&&(B=this._config.id),B!=v){var H=this.getPanelConfig(B),o=this.getPanelView(B);H.title=Z,o.querySelector(".panel-title span").innerHTML=Z}},setInnerPanel:function(p){var h,Q,V=this,n=p.id,L=V.$35i,z=!1;if(p.expanded==v&&(p.expanded=!0),n!=v){var R=V.getPanelConfig(n);if(R){z=!0;var K,O=V.getPanelView(n),y=O.parentNode,G=O.children[0];if(O!==V._view){V.$11i();for(K in R)delete R.key;for(K in p)R[K]=p[K];h=V.$24i(p,y,!1,O),Q=h[1],y.removeChild(O);for(var F=0;F<L.length;F++)if(L[F]===G){L.splice(F,1,Q);break}V.$12i(),R.expanded=!R.expanded,V.togglePanel(R.id,!0,!0),V.iv()}}}if(!z){V.$11i(),h=V.$24i(p,V._view.children[1]),Q=h[1],L.push(Q),V._config.items||(V._config.items=[]);var j=V._config.items;if(j.push(p),V.$12i(),j.length>1){var a=j[j.length-2],f=V.getPanelView(a.id).children[0];m(f,"border-bottom",V.$55i(a))}p.expanded=!p.expanded,V.togglePanel(p.id,!0,!0),V.iv()}},removeInnerPanel:function(E){var s,k=this,j=-1,o=k._config.items;if(o)for(s=0;s<o.length;s++){var X=o[s];if(X.id===E){j=s;break}}if(k.$11i(),j>=0){var w=k.$35i,C=k.getPanelView(E),F=C.children[0];for(s=0;s<w.length;s++)if(w[s]===F){w.splice(s,1);break}o.splice(j,1),C.parentNode.removeChild(C)}if(k.$12i(),o.length>0){var _=o[o.length-1],O=k.getPanelView(_.id).children[0];m(O,"border-bottom",k.$55i(_))}},$6i:function(e){m(e,"cursor","pointer"),m(e,"display","inline-block"),m(e,"margin-right",(D?8:4)+q),m(e,"vertical-align",x)},$24i:function(R,h,Y,e){var y=this,T=y._config.flowLayout,n=Y?h:L(),P=y.$50i(R),K=y.$3i(R,Y);n[C]="ht-widget-panel"+(Y?" outer-panel":" inner-panel"),R.borderWidth==v&&(R.borderWidth=Y?2:0);var N=R.borderWidth;if(N="0 "+N+q+" "+N+q+" "+N+q+" ",m(n,"border-width",N),m(n,"border-color",R.titleBackground||u.panelTitleBackground),m(n,"border-style","solid"),U(n,K),U(n,P),Y||(e?h.insertBefore(n,e):U(h,n)),!T&&Y&&R.minimizable!==!1){var Z=o(),D=y.$20i(),i=R.restoreToolTip;M.setCanvas(Z,D,D),Z[C]="control-button button-minimize button-minimize-restore",y.$6i(Z),m(Z,"display","none"),U(h,Z),Z.title=i||""}var I=R.panelBackground||R.titleBackground||u.panelTitleBackground;if(m(n,"background-color",I),R.id==v){for(var $=y.$1i++;y.getPanelConfig($);)$=y.$1i++;R.id=$}return n.$15i=R.id,R.width&&(n.style.width=R.width+q),[n,K,P]},$9i:function(w){var l=o();l[C]="control-button button-toggle button-toggle-expand",l.title=w.toggleToolTip||"";var g=this.$4i(w),z=this.$5i(w);return this.$6i(l),M.setCanvas(l,z,g),l},$8i:function(Z){var j=o(),z="control-button button-independent-switch";j[C]=Z.independent===!0?z+" button-independent-switch-on":z+" button-independent-switch-off",j.title=Z.independentSwitchToolTip||"";var u=this.$4i(Z),_=this.$5i(Z);return this.$6i(j),M.setCanvas(j,_,u),j},$7i:function(K){var X=o();X[C]="control-button button-minimize button-minimize-minimize",X.title=K.minimizeToolTip||"";var u=this.$4i(K),f=this.$5i(K);return this.$6i(X),M.setCanvas(X,f,u),X},$55i:function(n){var k=this._config,L=k.items,w=n.separatorWidth||u.panelSeparatorWidth,i=n.titleBackground||u.panelTitleBackground,h=n.expanded!==!1?i:n.separatorColor||u.panelSeparatorColor||u.brighter(i);return(k===n||L&&L.indexOf(n)===L.length-1)&&(w=0),w+q+" solid "+h},$3i:function(y,F){var B=this,E=B._config.flowLayout,G=L(),c=L(),z=B.$4i(y),l=y.titleBackground,f=y.titleColor,s=y.titleIcon,V=y.buttons;if(G[C]="panel-title",m(G,T,"relative"),m(G,"background",l||u.panelTitleBackground),m(G,"color",f||u.panelTitleLabelColor),m(G,x,t),m(G,"box-sizing","border-box"),m(G,"-moz-box-sizing","border-box"),m(G,"padding","0 5px 0 0"),m(G,e,"100%"),m(G,"cursor","default"),m(G,"white-space","nowrap"),m(G,"font",u.panelTitleLabelFont),s){var $=o();$[C]="control-button panel-title-icon";var k=B.$4i(y),X=B.$5i(y);B.$6i($),M.setCanvas($,X,k),U(G,$)}var Y=p("span");m(Y,"display","inline-block"),m(Y,"margin-left","5px"),Y[d]="<span>"+y.title+"</span>",U(G,Y),m(G,"line-height",z+q),c[C]="panel-title-controls",m(c,T,Q),m(c,Z,t),m(c,_,5+q),m(c,x,t),m(c,O,t),m(c,"text-align",_);var h=function(){var t=B.$9i(y);U(c,t)},n=function(){if(!E&&F&&y.minimizable!==!1){var b=B.$7i(y);U(c,b)}},P=function(){if(!F){var i=B.$8i(y);U(c,i)}},S=function(z){var H=o();H[C]="control-button custombutton-"+z.name,H.title=z.toolTip||"",H._action=z.action;var v=B.$4i(y),L=B.$5i(y);B.$6i(H),M.setCanvas(H,L,v),U(c,H)};if(V)for(var v=0;v<V.length;v++){var a=V[v];"string"==typeof a?"minimize"===a?n():"independentSwitch"===a?P():"toggle"===a&&h():"object"==typeof a&&S(a)}else n(),h();return U(G,c),G},$50i:function(o){var V=L(),k=o.contentHeight,r=L();m(r,T,"relative"),V[C]="panel-body",m(V,"overflow","hidden");var $=o.contentBackground;if($===H&&($="white"),m(V,"background",$),m(V,"font",u.panelContentLabelFont),U(V,r),o.content){var z,O=o.content;O.getView?(U(r,O.getView()),z=r.children[0]):O instanceof Element?(U(r,O),z=r.children[0]):r[d]=O,O.isSelfViewEvent||z&&(m(z,e,"100%"),m(z,E,"100%")),k&&m(r,E,k+q)}return V},$10i:function(){var a=this,E=a._config,$=a._view,H=$.querySelector(".resize-area").style;H.display=E.flowLayout||E.minimized===!0||E.expanded===!1?G:"block"},$11i:function(){var k=this._view,H=k.children[1];this.$13i>=0?this.$13i++:this.$13i=1,m(H,b,N),m(k,S,N)},$12i:function(){var D=--this.$13i;if(0===D){var n=this._view,T=n.children[1];m(T,b,T.scrollHeight+q),m(n,S,n.offsetWidth+q)}},$14i:function(){var M=this._view,o=M.children[0],t=o.children[1].children,y=this._config,T=0;M.$26i=M.offsetWidth,T+=o.children[0].offsetWidth,y.titleIcon&&(T+=o.children[1].offsetWidth,t=o.children[2].children);for(var _=0;_<t.length;_++){var b=t[_];T+=b.offsetWidth+5}M.$51i=T+15},togglePanel:function(Q,D,r){function T(c){var M=c.target,z=M.parentNode,T=I.getPanelConfig(z.$15i);delete z.$19i,M!==E&&I.$12i(),I.$18i.fire({kind:"endToggle",target:I,id:T.id})}for(var I=this,g=I._view,E=g.children[1],Z=v,c=I.$35i,$=c.length,s=I._config.exclusive,f=I.$2i,d=[],p=I._config.narrowWhenCollapse,K=0;$>K;K++){var F=c[K],w=F.parentNode,M=w.$15i,W=I.getPanelConfig(M);M===Q&&(Z=w),!D&&s&&W.expanded&&w!==g&&M!==Q&&W.independent!==!0&&d.push(w)}if(Z&&!Z.$19i){Z.$19i=!0;var i=Z.children[1],o=Z.querySelector(".button-toggle"),h=I.getPanelConfig(Z.$15i);if(!o)return;Z===g||h.expanded||h.independent===!0||d.forEach(function(Z){I.togglePanel(Z.$15i,!0)}),Z!==g&&I.$11i();var B=200;if(r&&(B=0),I.$18i.fire({kind:"beginToggle",target:I,id:Z.$15i}),h.expanded){var H=function(){o[C]="control-button button-toggle",o[C]+=f.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",m(i,e,i.clientWidth+q),h.expanded=!1,m(Z.children[0],"border-bottom",I.$55i(h)),l(i).duration(B).set("opacity",t).set(b,t).end(T),p&&Z===g&&l(Z).duration(B).set(S,Z.$51i+q).end(),Z[C]+=" panel-collapse",l(Z).duration(B).set("padding-bottom",t).end(),I.$28i(h,!0),I.$10i()};p&&Z===g&&I.$14i(),H()}else o[C]="control-button button-toggle",o[C]+=f.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",m(i,e,N),h.expanded=!0,m(Z.children[0],"border-bottom",I.$55i(h)),l(i).duration(B).set("opacity","1").set(b,i.scrollHeight+q).end(T),p&&Z===g&&l(Z).duration(B).set(S,(Z.$26i||Z.offsetWidth)+q).end(),Z[C]=Z[C].replace(" panel-collapse",N),l(Z).duration(B).end(),I.$28i(h,!0),I.$10i()}},$16i:function(){var z=this._view,C=z.$22i,i=z.$23i,y=this.$2i;return C==v&&(y.indexOf(Z)>=0?C=z.$22i=0:y.indexOf(_)>=0&&(C=z.$22i=100)),i==v&&(y.indexOf("Top")>=0?i=z.$23i=0:y.indexOf("Bottom")>=0&&(i=z.$23i=100)),[C,i]},$25i:function(){var T=this,h=T._view,f=h.$21i,k=T.$20i(),v=T.$16i(),y=v[0],V=v[1],g=T.$2i;h.children[0].style.display=G,h.children[1].style.display=G,h.children[2].style.display=N,m(h,"padding",t),m(h,S,k+q),"leftTop"===g?(m(h,Z,w(z(h,Z))+(f.width-k)*y/100+q),m(h,x,w(z(h,x))+(f.height-k)*V/100+q)):"leftBottom"===g?(m(h,Z,w(z(h,Z))+(f.width-k)*y/100+q),m(h,O,w(z(h,O))+(f.height-k)*(1-V/100)+q)):"rightTop"===g?(m(h,_,w(z(h,_))+(f.width-k)*(1-y/100)+q),m(h,x,w(z(h,x))+(f.height-k)*V/100+q)):"rightBottom"===g&&(m(h,_,w(z(h,_))+(f.width-k)*(1-y/100)+q),m(h,O,w(z(h,O))+(f.height-k)*(1-V/100)+q)),h[C]+=" panel-minimized",T.$18i.fire({kind:"endMinimize",target:T,id:h.$15i})},$17i:function(){var E=this,y=E._config,Q=E._view;m(Q,"-webkit-transform",N),m(Q,"-ms-transform",N),m(Q,"transform",N),y.minimized?E.$25i():(E.$18i.fire({kind:"endRestore",target:E,id:y.id}),Q[C]=Q[C].replace(" panel-minimized",N)),delete Q.$19i},minimize:function(C){var O=this,F=O._view;if(!F.$19i&&F.children[0].style.display!==G){var L=O._config,d=F.getBoundingClientRect(),J=O.$20i(),f=d.width,_=d.height,K=J/f,k=J/_,j=O.$16i(),h=j[0],b=j[1];F.$52i=K,F.$53i=k,F.$21i=d,O.$18i.fire({kind:"beginMinimize",target:O,id:F.$15i});var E=200;C&&(E=0),L.minimized=!0,F.$19i=!0,L.expanded&&(F.$26i=F.offsetWidth);var D=h+"% "+b+"%";m(F,"-webkit-transform-origin",D),m(F,"-ms-transform-origin",D),m(F,"transform-origin",D),l(F).duration(E).scale(K,k).end(function(){O.$17i()}),O.$10i()}},restore:function(){var e,j,C,J,p,o,y,B,L,u,N,f,g=this,H=g._view,Y=H.parentNode,i=g._config;if(!H.$19i&&i.minimized){var T=H.$21i,d=H.$52i,Q=H.$53i,U=(i.borderWidth+q,g.$20i()),M=c(Y),A=g.$2i;"leftTop"===A?(e=w(z(H,Z)),C=w(z(H,x)),p=e,y=C,L=e+T.width-M.width,u=C+T.height-M.height,L>0&&(L>=e?e=0:e-=L),u>0&&(u>=C?C=0:C-=u),N=100*((p-e)/(T.width-U)),f=100*((y-C)/(T.height-U)),m(H,Z,e+q),m(H,x,C+q)):"leftBottom"===A?(e=w(z(H,Z)),J=w(z(H,O)),p=e,B=J,L=e+T.width-M.width,u=J+T.height-M.height,L>0&&(L>=e?e=0:e-=L),u>0&&(u>=J?J=0:J-=u),N=100*((p-e)/(T.width-U)),f=100*(1-(B-J)/(T.height-U)),m(H,Z,e+q),m(H,O,J+q)):"rightTop"===A?(j=w(z(H,_)),C=w(z(H,x)),o=j,y=C,L=j+T.width-M.width,u=C+T.height-M.height,L>0&&(L>=j?j=0:j-=L),u>0&&(u>=C?C=0:C-=u),N=100*(1-(o-j)/(T.width-U)),f=100*((y-C)/(T.height-U)),m(H,_,j+q),m(H,x,C+q)):"rightBottom"===A&&(j=w(z(H,_)),J=w(z(H,O)),o=j,B=J,L=j+T.width-M.width,u=J+T.height-M.height,L>0&&(L>=j?j=0:j-=L),u>0&&(u>=J?J=0:J-=u),N=100*(1-(o-j)/(T.width-U)),f=100*(1-(B-J)/(T.height-U)),m(H,_,j+q),m(H,O,J+q)),H.children[0].style.display="block",H.children[1].style.display="block",H.children[2].style.display=G,m(H,"-webkit-transform","scale("+d+", "+Q+")"),m(H,"-ms-transform","scale("+d+", "+Q+")"),m(H,"transform","scale("+d+", "+Q+")"),H.$22i=N,H.$23i=f,m(H,"-webkit-transform-origin",N+"% "+f+"%"),m(H,"-ms-transform-origin",N+"% "+f+"%"),m(H,"transform-origin",N+"% "+f+"%"),i.narrowWhenCollapse&&!i.expanded?m(H,S,H.$51i+q):m(H,S,H.$26i+q),g.$18i.fire({kind:"beginRestore",target:g,id:H.$15i}),H.$19i=!0,i.minimized=!1,K(function(){l(H).scale(1,1).end(function(){g.$17i()})},30),g.$10i()}},addEventListener:function(s,B,$){this.$18i.add(s,B,$)},removeEventListener:function(_,D){this.$18i.remove(_,D)},setPosition:function(T,y){var M=this._view,S=this.$2i;"leftTop"===S?(m(M,Z,T+q),m(M,x,y+q),m(M,_,N),m(M,O,N)):"leftBottom"===S?(m(M,Z,T+q),m(M,O,y+q),m(M,_,N),m(M,x,N)):"rightTop"===S?(m(M,_,T+q),m(M,x,y+q),m(M,Z,N),m(M,O,N)):"rightBottom"===S&&(m(M,_,T+q),m(M,O,y+q),m(M,Z,N),m(M,x,N)),delete M.$22i,delete M.$23i},getPosition:function(){var A=this._view,n=this.$2i;return"leftTop"===n?{x:w(z(A,Z)),y:w(z(A,x))}:"leftBottom"===n?{x:w(z(A,Z)),y:w(z(A,O))}:"rightTop"===n?{x:w(z(A,_)),y:w(z(A,x))}:"rightBottom"===n?{x:w(z(A,_)),y:w(z(A,O))}:void 0},setPositionRelativeTo:function(D){var l=this,Y=l._view.querySelectorAll(".button-toggle"),T="control-button button-toggle",M=l.getPosition();l.$2i=D,l.setPosition(M.x,M.y);for(var I=0;I<Y.length;I++){var S=Y[I],U=l.getPanelConfig(S.parentNode.parentNode.parentNode.$15i);S[C]=U.expanded?D.indexOf("Bottom")>=0?T+" button-toggle-collapse":T+" button-toggle-expand":D.indexOf("Bottom")>=0?T+" button-toggle-expand":T+" button-toggle-collapse"}l.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(H){var D=this;D._68I||(D._68I=1,u.callLater(D.validate,D,v,H),D.onInvalidated&&D.onInvalidated(),D.fireViewEvent("invalidate"));var d=this._config,E=d.content;E&&E.invalidate&&E.invalidate(),d.items&&d.items.forEach(function(X){X&&X.content&&X.content.invalidate&&X.content.invalidate()})},getIconStretch:function(){var Z=this._config.iconStretch||"fill";return Z},$27i:function(t,N,Z,m,K){var X=M.initContext(t);M.translateAndScale(X,0,0,1),X.clearRect(0,0,Z,Z);var L=(Z-m)/2;u.drawStretchImage(X,u.getImage(N),this.getIconStretch(K),0,L,m,m),X.restore()},$28i:function(R){var D,Y,o,V=this,i=R.id,c=V.getPanelView(i),d=c.querySelector(".button-toggle"),E=V.$2i.indexOf("Bottom")>=0;if(Y=E?u.panelCollapseIcon:u.panelExpandIcon,o=E?u.panelExpandIcon:u.panelCollapseIcon,d){D=R.expanded?u.getImage(o):u.getImage(Y);var F=V.$4i(R),X=V.$5i(R);V.$27i(d,D,F,X,"toggle")}},$29i:function(H){var c,b=this,U=H.id,s=b.getPanelView(U),w=s.querySelector(".button-independent-switch"),$=u.panelUnLockIcon,L=u.panelLockIcon;if(w){c=H.independent!==!0?u.getImage(L):u.getImage($);var g=b.$4i(H),G=b.$5i(H);b.$27i(w,c,g,G,"switch")}},$30i:function(W){var X=this,$=W.id,R=X.getPanelView($),Z=R.querySelector(".button-minimize-minimize"),T=u.panelMinimizeIcon;if(Z){var n=X.$4i(W),Y=X.$5i(W);X.$27i(Z,u.getImage(T),n,Y,"miminize")}},$31i:function(R){var s=this,l=R.id,$=s.getPanelView(l),W=$.querySelector(".button-minimize-restore"),E=R.titleIcon||u.panelRestoreIcon;if(W){var V=s.$20i();s.$27i(W,u.getImage(E),V,V,"restore")}},$32i:function(s){var a=this,t=s.id,R=a.getPanelView(t);if(s.buttons){var Z=s.buttons;Z.forEach(function(W){var j=W.name,C=W.icon;if(j&&C){var U=R.querySelector(".custombutton-"+j);if(U){var f=a.$4i(s),D=a.$5i(s)-1;a.$27i(U,u.getImage(C),f,D,"custom")}}})}},$33i:function(M){var i=this,k=M.id,I=i.getPanelView(k),A=I.querySelector(".panel-title-icon"),Q=M.titleIcon;if(A&&Q){var b=i.$4i(M),E=i.$5i(M);i.$27i(A,u.getImage(Q),b,E,"title")}},validateImpl:function(){var s=this,r=s._config;s.$28i(r),s.$30i(r),s.$31i(r),s.$32i(r),s.$33i(r),r.items&&r.items.forEach(function(V){s.$28i(V),s.$29i(V),s.$32i(V)})}});var g=function(I){var m=this,u=I.getView();m.$34i=I,m.addListeners(),W(u,"dblclick",m.$42i.bind(m))};u.def(g,n,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(i){for(var S=this.$34i,A=i.target,U=S.$35i,z=U.length,x=0;z>x;x++){var O=U[x];O.contains(A)&&(i.preventDefault(),S.togglePanel(O.parentNode.$15i))}},handle_touchstart:function(T){var _=this,f=_.$34i,v=f._config,m=v.flowLayout,P=T;if(u.isLeftButton(T)){var J=T.target,K=f.getView().children[0],N=f.getView().querySelector(".button-minimize-restore");D&&(P=k(T));var o=_.$40i={x:P.pageX,y:P.pageY};_.$41i={x:o.x,y:o.y},(!m&&K.contains(J)||N&&N.contains(J))&&(_.$38i=!0,u.startDragging(_,T)),!m&&_.handle_mousemove(T)&&(_.$37i=!0,u.startDragging(_,T),f.$11i())}},handle_mousedown:function(Y){this.handle_touchstart(Y)},handle_touchend:function(l){var d=this,E=d.$34i,u=l.target,F=E.$35i,Z=F.length,h=0,s=E.getView(),I=s.querySelector(".button-minimize"),c=s.querySelector(".button-minimize-restore");if(!d.$39i&&!d.$36i){if(I&&I.contains(u)||c&&c.contains(u))l.preventDefault(),E._config.minimized?E.restore():E.minimize();else for(;Z>h;h++){var e=F[h],k=e.parentNode,X=k.$15i,y=E.getPanelConfig(X),r=e.querySelector(".button-toggle"),Q=e.querySelector(".button-independent-switch");if(r===u)l.preventDefault(),E.togglePanel(X);else if(Q===u){l.preventDefault();var D="button-independent-switch-off",m="button-independent-switch-on";y.independent=y.independent==v?!0:!y.independent,Q[C]=y.independent?Q[C].replace(D,m):Q[C].replace(m,D),E.$29i(y)}else u[C]&&u[C].indexOf("control-button custombutton-")>=0&&e.contains(u)&&u._action.call(E,y,E.getPanelView(X),l)}delete d.$40i,delete d.$41i}},handle_mouseup:function(A){this.handle_touchend(A)},handleWindowTouchEnd:function(){var Y=this,g=Y.$34i;Y.$37i&&Y.$36i?(g.$18i.fire({kind:"endResize",target:g,id:g.getView().$15i}),g.$12i()):Y.$38i&&Y.$39i&&g.$18i.fire({kind:"endMove",target:g,id:g.getView().$15i}),this.clear()},handleWindowMouseUp:function(F){this.handleWindowTouchEnd(F)},handle_mousemove:function(C){var p=this,_=p.getView(),J=_.querySelector(".resize-area"),M=J.getBoundingClientRect(),K={x:M.left,y:M.top,width:M.width,height:M.height};C=D?k(C):C;var v=C.clientX,T=C.clientY,t=p.$34i._config;return t.expanded&&t.minimized!==!0&&u.containsPoint(K,{x:v,y:T})?(_.style.cursor="nwse-resize",!0):(_.style.cursor=N,void 0)},handleWindowTouchMove:function(L){L.preventDefault();var l=L;D&&(l=k(L));var y=this,s=y.$40i,B=y.$41i;if(!(B.x==s.x&&B.y==s.y&&u.getDistance(B,{x:l.pageX,y:l.pageY})<=1)){var A=y.$34i,j=y.getView(),V=j.parentNode,J=A._config,X=J.resizeMode||"wh",v=l.pageX-s.x,F=l.pageY-s.y,b=A.$2i;if(y.$37i){var T=j.children[1].children[0],G=j.offsetWidth,o=T.offsetHeight,U=G+v,t=o+F;U=Math.max(U,100),t=Math.max(t,100),"w"===X?(m(j,e,U+q),J.width=U):"h"===X?(m(T,E,t+q),J.contentHeight=t):"wh"===X&&(m(j,e,U+q),m(T,E,t+q),J.width=U,J.contentHeight=t),b.indexOf("right")>=0&&m(j,_,w(z(j,_))-(U-G)+q),b.indexOf("Bottom")>=0&&m(j,O,w(z(j,O))-(t-o)+q),s.x=l.pageX,s.y=l.pageY;var h=J.content;h&&h.isSelfViewEvent&&(h.setX(0),h.setY(0),h.setWidth(J.width-2*(J.borderWidth||0)),h.setHeight(J.contentHeight)),y.$36i?A.$18i.fire({kind:"betweenResize",target:A,id:A.getView().$15i}):(y.$36i=!0,A.$18i.fire({kind:"beginResize",target:A,id:A.getView().$15i}))}else if(y.$38i){var f,R,Y,N,K,Q,p,r,H,$,n=j.getBoundingClientRect(),I=n.width,C=n.height,M=c(V),g=M.width,W=M.height,S=A._dragContainment;"leftTop"===b?(f=w(z(j,Z))||0,Y=w(z(j,x))||0,K=f+v,p=Y+F,"parent"===S&&(K+I>g&&(K=g-I),p+C>W&&(p=W-C),0>K&&(K=0),0>p&&(p=0)),H=K-f,$=p-Y,A.setPosition(K,p),s.x+=H,s.y+=$):"rightBottom"===b?(R=w(z(j,_))||0,N=w(z(j,O))||0,Q=R-v,r=N-F,"parent"===S&&(0>Q&&(Q=0),0>r&&(r=0),Q+I>g&&(Q=g-I),r+C>W&&(r=W-C)),H=Q-R,$=r-N,A.setPosition(Q,r),s.x-=H,s.y-=$):"rightTop"===b?(R=w(z(j,_))||0,Y=w(z(j,x))||0,Q=R-v,p=Y+F,"parent"===S&&(0>Q&&(Q=0),0>p&&(p=0),Q+I>g&&(Q=g-I),p+C>W&&(p=W-C)),H=Q-R,$=p-Y,A.setPosition(Q,p),s.x-=H,s.y+=$):"leftBottom"===b&&(f=w(z(j,Z))||0,N=w(z(j,O))||0,K=f+v,r=N-F,"parent"===S&&(0>K&&(K=0),0>r&&(r=0),K+I>g&&(K=g-I),r+C>W&&(r=W-C)),H=K-f,$=r-N,A.setPosition(K,r),s.x+=H,s.y-=$),y.$39i?A.$18i.fire({kind:"betweenMove",target:A,id:A.getView().$15i}):(y.$39i=!0,A.$18i.fire({kind:"beginMove",target:A,id:A.getView().$15i}))}}},handleWindowMouseMove:function(_){this.handleWindowTouchMove(_)}});var P=R.widget.PanelGroup=function(k){var f=this,p=f._view=M.createView(null,f);p.style.border="1px dashed black",p.style.position="absolute",p.style.background="rgba(120, 120, 120, 0.4)",f.$48i=new R.List,f._tolerance=100,f._config=k||{hGap:0,vGap:0},f.bindHandlePanelMove=f.handlePanelMove.bind(f),f.bindHandlePanelEvent=f.handlePanelEvent.bind(f),f.invalidate()};u.def(P,n,{invalidate:function(){var c=this;c._68I||(c._68I=1,K(function(){c.validate()},50))},validate:function(){if(this._68I){delete this._68I;var B=this.$48i.get(0);if(B){var y=B.getView().parentNode;y&&(this.layoutPanels(y,"leftTop"),this.layoutPanels(y,"rightTop"),this.layoutPanels(y,"leftBottom"),this.layoutPanels(y,"rightBottom"))}}},setLeftTopPanels:function(){var L=this,_=L.$43i,V=L.$48i;_==v&&(_=L.$43i=new R.List);for(var N=0;N<arguments.length;N++){var o=arguments[N];if("string"==typeof o)_.$49i=o;else{if(o._config.flowLayout)continue;o.setPositionRelativeTo("leftTop"),_.contains(o)||_.add(o),V.contains(o)||L.add(o)}}},setRightTopPanels:function(){var l=this,D=l.$44i,j=l.$48i;D==v&&(D=l.$44i=new R.List);for(var W=0;W<arguments.length;W++){var b=arguments[W];if("string"==typeof b)D.$49i=b;else{if(b._config.flowLayout)continue;b.setPositionRelativeTo("rightTop"),D.contains(b)||D.add(b),j.contains(b)||l.add(b)}}},setLeftBottomPanels:function(){var S=this,W=S.$45i,r=S.$48i;W==v&&(W=S.$45i=new R.List);for(var I=0;I<arguments.length;I++){var f=arguments[I];if("string"==typeof f)W.$49i=f;else{if(f._config.flowLayout)continue;f.setPositionRelativeTo("leftBottom"),W.contains(f)||W.add(f),r.contains(f)||S.add(f)}}},setRightBottomPanels:function(){var m=this,c=m.$46i,K=m.$48i;c==v&&(c=m.$46i=new R.List);for(var E=0;E<arguments.length;E++){var D=arguments[E];if("string"==typeof D)c.$49i=D;else{if(D._config.flowLayout)continue;D.setPositionRelativeTo("rightBottom"),c.contains(D)||c.add(D),K.contains(D)||m.add(D)}}},add:function(f){if(!f._config.flowLayout){var a=this,d=a.$48i;d.contains(f)||(f.addEventListener(a.bindHandlePanelMove),f.addEventListener(a.bindHandlePanelEvent),d.add(f))}},remove:function(J){var m=this,M=m.$48i;M.contains(J)&&(J.removeEventListener(m.bindHandlePanelMove),J.removeEventListener(m.bindHandlePanelEvent),M.remove(J),m.$43i.contains(J)&&m.$43i.remove(J),m.$44i.contains(J)&&m.$44i.remove(J),m.$45i.contains(J)&&m.$45i.remove(J),m.$46i.contains(J)&&m.$46i.remove(J))},layoutPanels:function(i,B,R){var t=this,$=t._config,L=$.hGap||0,N=$.vGap||0;if(i){var x=t.$43i;if("leftBottom"===B?x=t.$45i:"rightTop"===B?x=t.$44i:"rightBottom"===B&&(x=t.$46i),!x)return;var y=x.$49i,f=L,K=N;if(i.contains(t._view)&&i.removeChild(t._view),x&&x.size()>0)for(var T=0;T<x.size();T++){var e=x.get(T),X=e.getView();i=i||X.parentNode,R!==T?e.setPosition(f,K):("leftTop"===B?(t._view.style.right="",t._view.style.bottom="",t._view.style.left=f+q,t._view.style.top=K+q):"leftBottom"===B?(t._view.style.right="",t._view.style.top="",t._view.style.left=f+q,t._view.style.bottom=K+q):"rightTop"===B?(t._view.style.left="",t._view.style.bottom="",t._view.style.right=f+q,t._view.style.top=K+q):"rightBottom"===B&&(t._view.style.left="",t._view.style.top="",t._view.style.right=f+q,t._view.style.bottom=K+q),t._view.style.width=X.offsetWidth+q,t._view.style.height=X.offsetHeight+q,i.insertBefore(t._view,X)),"h"===y?f+=X.offsetWidth+L:"v"===y&&(K+=X.offsetHeight+N)}}},handlePanelEvent:function(i){if("beginToggle"===i.kind||"endToggle"===i.kind||"beginRestore"===i.kind||"endMinimize"===i.kind||"endResize"===i.kind){var G=this,x=i.target,O=x.getView(),R=O.parentNode,Y=G.$43i,_=G.$44i,W=G.$45i,o=G.$46i,z=G._config,M=v,Z=v,k=x.$47i;if(k==v&&(k=x.$47i=0),"beginToggle"===i.kind?k=x.$47i=k+1:"endToggle"===i.kind&&(k=x.$47i=k-1),Y&&Y.contains(x)?(M="leftTop",Z=Y):W&&W.contains(x)?(M="leftBottom",Z=W):_&&_.contains(x)?(M="rightTop",Z=_):o&&o.contains(x)&&(M="rightBottom",Z=o),"beginToggle"===i.kind&&M&&1===k){var B=L(),H=B.style,t=Z.$49i,P="each";H.fontSize="0",H.position="absolute",H.width="100%","leftTop"===M?(H.left=0,H.top=0):"leftBottom"===M?(H.left=0,H.bottom=0,"v"===t&&(P="reverseEach")):"rightTop"===M?(H.right=0,H.top=0,H.textAlign="right","h"===t&&(P="reverseEach")):"rightBottom"===M&&(H.right=0,H.bottom=0,H.textAlign="right",P="reverseEach"),Z[P](function(N){var g=N.getView(),S=g.style,C=L();S.position="static",C.style.textAlign="left",C.style.position="relative",C.style.display="inline-block","leftTop"===M?(C.style.marginLeft=z.hGap+q,C.style.marginTop=z.vGap+q):"leftBottom"===M?(C.style.marginLeft=z.hGap+q,C.style.marginBottom=z.vGap+q):"rightTop"===M?(C.style.marginRight=z.hGap+q,C.style.marginTop=z.vGap+q):"rightBottom"===M&&(C.style.marginRight=z.hGap+q,C.style.marginBottom=z.vGap+q),C.appendChild(g),B.appendChild(C),"h"===t?C.style.verticalAlign="leftTop"===M||"rightTop"===M?"top":"bottom":B.appendChild(p("br"))}),G.$54i=B,R.appendChild(B)}else"endToggle"===i.kind&&M&&0===k?K(function(){R=R.parentNode.parentNode,R.removeChild(G.$54i),delete G.$54i,Z.each(function(v){var K=v.getView(),w=K.style;w.position="absolute",R.appendChild(K)}),G.layoutPanels(R,M)},30):("beginRestore"===i.kind||"endMinimize"===i.kind||"endResize"===i.kind)&&M&&G.layoutPanels(R,M)}},handlePanelMove:function(f){if(!(f.kind.indexOf("Move")<0)){var Z=this,P=Z._config,u=P.hGap||0,Y=P.vGap||0,e=f.target,s=e._view,G=s.getBoundingClientRect(),n=G.width,B=G.height,y=n/2,O=B/2,t=s.parentNode,N=Z.$43i,j=Z.$44i,g=Z.$45i,H=Z.$46i,_=t.getBoundingClientRect(),X=Z._tolerance;if("endMove"===f.kind){var T=Z._corner;T&&(e.setPositionRelativeTo(T),Z.layoutPanels(t,T)),delete Z._corner}if("betweenMove"===f.kind){var $=_.left,J=_.top,S=_.width,Q=_.height,k=G.left+n/2,l=G.top+B/2;N==v&&(N=Z.$43i=new R.List),g==v&&(g=Z.$45i=new R.List),j==v&&(j=Z.$44i=new R.List),H==v&&(H=Z.$46i=new R.List),delete Z._corner,N.contains(e)?(N.remove(e),Z.layoutPanels(t,"leftTop")):g.contains(e)?(g.remove(e),Z.layoutPanels(t,"leftBottom")):j.contains(e)?(j.remove(e),Z.layoutPanels(t,"rightTop")):H.contains(e)&&(H.remove(e),Z.layoutPanels(t,"rightBottom"));var o=function(V,s){var c=$+u,U=J+Y;if(0===s.size()){var r=c+y,z=U+O;"leftBottom"===V?z=J+Q-Y-O:"rightTop"===V?r=$+S-u-y:"rightBottom"===V&&(r=$+S-u-y,z=J+Q-Y-O);var B=k-r,F=l-z,D=Math.sqrt(B*B+F*F);if(X>D)return Z._corner=V,s.add(e),Z.layoutPanels(t,V,0),!0}else if(1===s.size()){var i=s.get(0),L=i.getView().getBoundingClientRect(),N=L.left+y,a=L.top+O,f=L.left+L.width+u+y,T=U+O,G=c+y,m=L.top+L.height+Y+O;"leftBottom"===V?(a=L.top+L.height-O,T=J+Q-Y-O,m=L.top-Y-O):"rightTop"===V?(N=L.left+L.width-y,f=L.left-u-y,G=$+S-u-y):"rightBottom"===V&&(N=L.left+L.width-y,a=L.top+L.height-O,f=L.left-u-y,T=J+Q-Y-O,G=$+S-u-y,m=L.top-Y-O);var P=k-N,o=l-a,A=k-f,n=l-T,d=k-G,g=l-m,C=w(Math.sqrt(P*P+o*o)),K=w(Math.sqrt(A*A+n*n)),I=w(Math.sqrt(d*d+g*g)),R=[C,K,I];R.sort(function(I,n){return I-n});var E=R[0];if(X>E){if(Z._corner=V,E===C)return s.add(e,0),Z.layoutPanels(t,V,0),!0;if(E===K)return s.add(e),s.$49i="h",Z.layoutPanels(t,V,1),!0;if(E===I)return s.add(e),s.$49i="v",Z.layoutPanels(t,V,1),!0}}else if(s.size()>1){for(var M=v,p={},j=[],H=s.$49i,x=0;x<s.size();x++){var h=s.get(x),_=h.getView(),b=_.getBoundingClientRect(),q=b.left+y,W=b.top+O;"leftBottom"===V?W=b.top+b.height-O:"rightTop"===V?q=b.left+b.width-y:"rightBottom"===V&&(q=b.left+b.width-y,W=b.top+b.height-O),x===s.size()-1&&(M=b);var B=k-q,F=l-W,D=w(Math.sqrt(B*B+F*F));p[D]=x,j.push(D)}"leftTop"===V&&"h"===H?(r=M.left+M.width+u+y,z=U+O):"leftTop"===V&&"v"===H?(r=c+y,z=M.top+M.height+Y+O):"leftBottom"===V&&"h"===H?(r=M.left+M.width+u+y,z=J+Q-Y-O):"leftBottom"===V&&"v"===H?(r=c+y,z=M.top-Y-O):"rightTop"===V&&"h"===H?(r=M.left-u-y,z=U+O):"rightTop"===V&&"v"===H?(r=$+S-u-y,z=M.top+M.height+Y+O):"rightBottom"===V&&"h"===H?(r=M.left-u-y,z=J+Q-Y-O):"rightBottom"===V&&"v"===H&&(r=$+S-u-y,z=M.top-Y-O),B=k-r,F=l-z,D=w(Math.sqrt(B*B+F*F)),p[D]=x,j.push(D),j.sort(function(h,m){return h-m});var E=j[0];if(X>E)return Z._corner=V,s.add(e,p[E]),Z.layoutPanels(t,V,p[E]),!0}};o("leftTop",N)||o("leftBottom",g)||o("rightTop",j)||o("rightBottom",H)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);