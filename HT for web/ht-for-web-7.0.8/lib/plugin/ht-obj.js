!function(x,g,d){"use strict";var N="ht",C=x[N],K=null,Q=Math,w=Q.abs,M=Q.max,Z=Number.MAX_VALUE,V=C.Default,E=V.getInternal(),p=V.clone,r=E.vec3TransformMat4,W=[0,0],s=E.appendArray,h=function(){function O(h,A,v,o){if(h){var X=h[o];if(X){v.ignoreColor||(A.color=X.kd),!v.ignoreTransparent&&X.d>0&&X.d<1&&(A.transparent=!0,A.opacity=X.d);var P;if(!v.ignoreImage&&(P=X.map_kd)){P=P.split(" ");for(var e=-1,K=0;K<P.length;K++)"-o"===P[K]?(A.uvOffset=[parseFloat(P[K+1]),parseFloat(P[K+2])],K+=3,e=K):"-s"===P[K]&&(A.uvScale=[parseFloat(P[K+1]),parseFloat(P[K+2])],K+=3,e=K);A.image=(v.prefix||"")+P.splice(e+1).join(" ")}}}}var R=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,f=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,y=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,h=/^[og]\s*(.+)?/,t=function(P,d){return d=parseInt(d),d>=0?P[d-1]:P[d+P.length]},j=function(d,E,X,F,G){if(d.lvs){var O=t(E,F),j=t(E,G),y=X.matrix,a=d.lvs;y?(s(a,r(p(O),y)),s(a,r(p(j),y))):(s(a,O),s(a,j))}},n=function(D,d,y,n,L,C){if(D.vs){var P=t(d,n),w=t(d,L),z=t(d,C),Q=y.matrix,o=D.vs;if(y.flipFace){var H=w;w=z,z=H}Q?(s(o,r(p(P),Q)),s(o,r(p(w),Q)),s(o,r(p(z),Q))):(s(o,P),s(o,w),s(o,z))}},X=function(i,B,c,P,M,H){if(i.vs){var Q=c.flipY,u=P===d?W:t(B,P),Y=M===d?W:t(B,M),K=H===d?W:t(B,H);if(c.flipFace){var s=Y;Y=K,K=s}i.uv.push(u[0],Q?1-u[1]:u[1],Y[0],Q?1-Y[1]:Y[1],K[0],Q?1-K[1]:K[1])}},P=function(U,v,L,D,l,S){if(U.vs){var d=t(v,D),y=t(v,l),R=t(v,S),J=L.normalMatrix,z=U.ns;if(L.flipFace){var K=y;y=R,R=K}J?(s(z,r(p(d),J)),s(z,r(p(y),J)),s(z,r(p(R),J))):(s(z,d),s(z,y),s(z,R))}},z=function(b,e,r,g){for(var P=g.length-1,U=0;P>U;++U)j(b,e,r,g[U],g[U+1]);j(b,e,r,g[P],g[0])},T=function(O,U,a,J,z,Q,g,r){var A=J&&J.length&&r;Q[3]===d?(n(O,U,z,Q[0],Q[1],Q[2]),g?X(O,a,z,g[0],g[1],g[2]):O.uv&&O.uv.length&&X(O,a,z),A&&P(O,J,z,r[0],r[1],r[2])):(n(O,U,z,Q[0],Q[1],Q[3]),n(O,U,z,Q[1],Q[2],Q[3]),g?(X(O,a,z,g[0],g[1],g[3]),X(O,a,z,g[1],g[2],g[3])):O.uv&&O.uv.length&&(X(O,a,z),X(O,a,z)),A&&(P(O,J,z,r[0],r[1],r[3]),P(O,J,z,r[1],r[2],r[3])))},b=function(Y,W,T,i){var K,u,F,$,h,f,_,H,d=Z,N=Z,n=Z,O=-Z,s=-Z,R=-Z;for(K in Y)for(f=Y[K].vs,H=f.length,u=0;H>u;u+=3)F=f[u+0],$=f[u+1],h=f[u+2],d>F&&(d=F),N>$&&(N=$),n>h&&(n=h),F>O&&(O=F),$>s&&(s=$),h>R&&(R=h);if(T){var c=d+(O-d)/2,B=N+(s-N)/2,o=n+(R-n)/2;for(K in Y){for(f=Y[K].vs,H=f.length,u=0;H>u;u+=3)f[u+0]-=c,f[u+1]-=B,f[u+2]-=o;if(_=Y[K].lvs)for(H=_.length,u=0;H>u;u+=3)_[u+0]-=c,_[u+1]-=B,_[u+2]-=o}}var t,Q,z;T?(t=O-d,Q=s-N,z=R-n):(t=2*M(w(d),w(O)),Q=2*M(w(N),w(s)),z=2*M(w(n),w(R))),0===t&&(t=Math.min(Q,z)/1e3||.001),0===Q&&(Q=Math.min(t,z)/1e3||.001),0===z&&(z=Math.min(t,Q)/1e3||.001),i.rawS3=[t,Q,z];for(K in Y){if(f=Y[K].vs,_=Y[K].lvs,W){for(H=f.length,u=0;H>u;u+=3)t&&(f[u+0]/=t),Q&&(f[u+1]/=Q),z&&(f[u+2]/=z);if(_)for(H=_.length,u=0;H>u;u+=3)t&&(_[u+0]/=t),Q&&(_[u+1]/=Q),z&&(_[u+2]/=z);var p=Y[K].ns;if(p){H=p.length;var y=new C.Math.Vector3;for(u=0;H>u;u+=3)y.set(p[u+0]*t,p[u+1]*Q,p[u+2]*z).normalize(),p[u+0]=y.x,p[u+1]=y.y,p[u+2]=y.z}}Y[K].rawS3=i.rawS3}};return function(l,x,c){if(!l)return K;(E.isString(x)||x instanceof ArrayBuffer)&&(x=a(x)),c||(c={}),c.flipY==K&&(c.flipY=!0),(c.s3||c.r3||c.t3||c.mat)&&(c.matrix=E.createWorldMatrix(c.mat,c.s3,c.r3,c.rotationMode,c.t3));var t,G,A,Y,U=C.Style["wf.loadQuadWireframe"],X=[],d=[],H=c.ignoreNormal?K:[],u=c.reverseFlipMtls,s={vs:[],uv:[],ns:H?[]:K},r={htdefault:s},J=new L(l),B="",S="";for(H&&c.matrix&&(c.normalMatrix=E.createNormalMatrix(c.matrix));null!=(G=J.stepNext());)if(G=G.trim(),0!==G.length&&"#"!==G.charAt(0))if(G.indexOf("\\")!==G.length-1){if(B&&(G=B+G,B=""),G.indexOf("#QNAN0")>=0&&(G=G.replace(/#QNAN0/gi,"0")),A=R.exec(G))X.push([parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])]);else if(A=f.exec(G))d.push([parseFloat(A[1]),parseFloat(A[2])]);else if(H&&(A=y.exec(G)))c.flipFace?H.push([parseFloat(-A[1]),parseFloat(-A[2]),parseFloat(-A[3])]):H.push([parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])]);else if("f"===G[0]){var $=G.split(/\s+/);if($.length<4)continue;var Q,t,N,F=[],g=[],k=[];for(t=1,N=$.length;N>t;t++)Q=$[t].split("/"),F.push(parseInt(Q[0],10)),Q.length>1&&Q[1].length>0&&k.push(parseInt(Q[1],10)),Q.length>2&&Q[2].length>0&&g.push(parseInt(Q[2],10));for(t=0,N=F.length-2;N>t;t++)T(s,X,d,H,c,[F[0],F[t+1],F[t+2]],k.length?[k[0],k[t+1],k[t+2]]:K,g.length?[g[0],g[t+1],g[t+2]]:K);U&&z(s,X,c,F)}else if(c.part&&null!==(A=h.exec(G)))S=(" "+A[0].substr(1).trim()).substr(1);else if(/^usemtl /.test(G)){Y=G.substring(7).trim();var j=c.part?S+"_"+Y:Y;(s=r[j])||(s=r[j]={name:j,vs:[],uv:[],ns:H?[]:K,lvs:U?[]:K},c.ignoreMtls&&c.ignoreMtls.indexOf(Y)>=0&&delete s.vs,(c.reverseFlip||"*"===u||u&&u.indexOf(Y)>=0)&&(s.reverseFlip=!0),O(x,s,c,Y))}}else B+=G.substring(0,G.length-1);var D=[];for(var P in r){var W=r[P].vs;if(W&&0!==W.length){var M=r[P].uv;if(M)for(var p=2*W.length/3-M.length;p-->0;)M.push(0)}else D.push(P)}D.forEach(function(E){delete r[E]}),b(r,c.cube,c.center,c);var I=c.shape3d;if(I){var w=[];for(var Y in r){var s=r[Y];w.rawS3=s.rawS3,w.push(s)}V.setShape3dModel(I,w)}return r}}(),a=function(H){var F={};if(H)for(var n,a,i,k,g,E,D=new L(H),M=/\s+/;null!=(a=D.stepNext());)a=a.trim(),0!==a.length&&"#"!==a.charAt(0)&&(i=a.indexOf(" "),k=(i?a.substring(0,i):a).toLowerCase(),g=(i?a.substring(i+1):"").trim(),"newmtl"===k?F[g]=n={name:g}:n&&("ka"===k||"kd"===k||"ks"===k?(E=g.split(M,3),n[k]=[parseFloat(E[0]),parseFloat(E[1]),parseFloat(E[2]),1]):n[k]="ns"===k||"d"===k?parseFloat(g):g));return F},L=function(K){var U=this;if(K instanceof ArrayBuffer){U.isBuffer=!0;var l=0,g=new Uint8Array(K),C=g.length,G=g.length;U.stepNext=function(){for(var L,y,V=l;C>l;)if(L=g[l],y=L>>4,12===y||13==y)l+=2;else if(14===y)l+=3;else if(l++,10===L)return String.fromCharCode.apply(null,g.subarray(V,l));return l>V?String.fromCharCode.apply(null,g.subarray(V,l)):null}}else{U.isBuffer=!1;var A=K.split("\n"),m=0,G=A.length;U.stepNext=function(){return G>m?A[m++]:null}}};L.prototype={},L.prototype.constructor=L,E.addMethod(V,{loadObj:function(J,a,r){r=r||{};var I=!1;/(MSIE |Trident\/|Edge\/)/.test(x.navigator.userAgent)&&(I=!0);var c=function(T){var E,u=r.finishFunc,z=r.shape3d,f=T?h(T[0],T[1],r):null;if(f){if(z)E=V.getShape3dModel(z);else{E=[];for(var K in f){var H=f[K];E.rawS3=H.rawS3,E.push(H)}}u&&u(f,E,E.rawS3)}else u&&u(null)};if(I){r.responseType="arraybuffer";var q=function(l){V.xhrLoad(J,function(u){c([u,l])},r)};a?V.xhrLoad(a,function(u){q(u)},r):q()}else V.xhrLoad(a?[J,a]:[J],c,r)},parseObj:function(i,c,j){return h(i,c,j)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);